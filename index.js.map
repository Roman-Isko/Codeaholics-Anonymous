{"version":3,"file":"index.js","sources":["../src/js/sound-wave-api.js","../src/js/menu.js","../src/js/artists.js","../src/js/feedback.js","../src/main.js"],"sourcesContent":["// alert('api')\nimport axios from 'axios';\nconst soundWaveApi = axios.create({\n  baseURL: 'https://sound-wave.b.goit.study/api',\n});\nexport async function getArtists() {\n  try {\n    return await soundWaveApi.get('/artists');\n  } catch (error) {\n    console.error('Помилка при отриманні списку артистів:', error);\n    throw error;\n  }\n}\nexport async function getArtistByID(id) {\n  try {\n    return await soundWaveApi.get(`/artists/${id}`);\n  } catch (error) {\n    console.error(`Помилка при отриманні актора з ID ${id}:`, error);\n    throw error;\n  }\n}\nexport async function getFeedbacks() {\n  try {\n    return await soundWaveApi.get('/feedbacks');\n  } catch (error) {\n    console.error('Помилка при отриманні відгуків:', error);\n    throw error;\n  }\n}\n","// alert('menu')\nconst iconBurger = document.querySelector('.burger-icon');\nconst iconBurgerX = document.querySelector('.burger-icon-x');\nconst menuList = document.querySelector('.header-nav-list');\nconst body = document.body;\nconst svgBurger = document.querySelector('.burger-svg');\n\n\n\niconBurger.addEventListener('click', openMenu);\niconBurgerX.addEventListener('click', openMenu);\nmenuList.addEventListener('click', (evt) => {\n    \n\n    if(evt.target.nodeName === 'A') {\n        \n        menuList.classList.remove('active');\n        iconBurgerX.classList.remove('active');\n        iconBurger.classList.remove('active');\n        body.classList.remove('lock');\n\n\n    }\n    return;\n});\n\n\nfunction openMenu(){\n    \n    menuList.classList.toggle('active');\n    iconBurger.classList.toggle('active');\n    iconBurgerX.classList.toggle('active');\n\n    if(menuList.classList.contains('active')){\n        \n        body.classList.add('lock');\n    }else{\n        \n        body.classList.remove('lock');\n    }\n\n    return\n\n}","\r\nimport axios from 'axios';\r\n\r\nexport async function fetchArtists(page = 1, limit = 8) {\r\n  const url = `https://sound-wave.b.goit.study/api/artists?page=${page}&limit=${limit}`;\r\n\r\n  try {\r\n    const { data } = await axios.get(url);\r\n    return data;\r\n  } catch (error) {\r\n    console.error('Помилка отримання артистів:', error);\r\n    return null;\r\n  }\r\n}\r\nexport function createArtistCard(artist) {\r\n  if (\r\n    !artist ||\r\n    !artist.strArtistThumb ||\r\n    !artist.strArtist ||\r\n    !artist.genres ||\r\n    !artist.strBiographyEN\r\n  ) {\r\n    return '';\r\n  }\r\n\r\n  const shortBio =\r\n    artist.strBiographyEN.length > 200\r\n      ? artist.strBiographyEN.slice(0, 200) + '...'\r\n      : artist.strBiographyEN;\r\n\r\n  return `\r\n        <li class=\"artist-card\">\r\n            <img src=\"${artist.strArtistThumb}\" alt=\"${\r\n    artist.strArtist\r\n  }\" class=\"artist-image\" data-id=\"${artist._id}\" />\r\n            <h3 class=\"artist-name\">${artist.strArtist}</h3>\r\n            <p class=\"artist-genre\">${artist.genres.join(', ')}</p>\r\n            <p class=\"artist-bio\" data-full=\"${\r\n              artist.strBiographyEN\r\n            }\">${shortBio}</p>\r\n            <button class=\"learn-more\">Learn More</button>\r\n        </li>\r\n    `;\r\n}\r\n\r\n","\n// alert('feedback')\nimport Swiper from 'swiper/bundle';\nimport 'swiper/css/bundle';\nimport 'css-star-rating/css/star-rating.min.css';\n\n\nimport {getFeedbacks } from './sound-wave-api'\n\n\nconst swiperWrapper = document.querySelector(\".swiper-wrapper\");\n\nfunction renderStarsSimple(rating) {\n const roundedRating = Math.round(rating);\nlet starsHtml = '';\nfor (let i = 0; i < 5; i++) {\nif (i < roundedRating) {\nstarsHtml += '<span class=\"star-icon filled\"> ★ </span>';\n} else {\nstarsHtml += '<span class=\"star-icon empty\"> ★ </span>';  \n}\n }\n\n return starsHtml;\n\n}\n\nasync function renderFeedback() {\n\n\nconst response = await getFeedbacks();\nconst data = response.data; \nconst info = data.data;\n \n\n\nconst markup = info.map(item => {\n let rating = item.rating;\n\n\n\n\nreturn `\n <div class=\"swiper-slide\">\n<div class=\"feedback-card\">\n<div class=\"feedback-rating-display\"> ${renderStarsSimple(rating)} </div>\n <p class=\"feedback-text\">\"${item.descr}\"</p>\n <p class=\"feedback-author\">${item.name}</p>\n </div>\n</div>\n`;\n }).join('');\n\n swiperWrapper.innerHTML = markup;\n swiper.update();\n\n}\n\n\n\nconst swiper = new Swiper('.swiper', {\n initialSlide: 0,\nnavigation: {\n nextEl: '.swiper-button-next',\n prevEl: '.swiper-button-prev',\n },\n\n});\n\n\n\nrenderFeedback();\nconst dotFirst = document.querySelector('.dot.first');\nconst dotCurrent = document.querySelector('.dot.current');\nconst dotLast = document.querySelector('.dot.last');\n\nswiper.on('slideChange', () => {\nconst index = swiper.realIndex;\nconst total = swiper.slides.length - swiper.loopedSlides * 2;\ndotFirst.classList.remove('active');\ndotCurrent.classList.remove('active');\ndotLast.classList.remove('active');\nif (index === 0) {\n dotFirst.classList.add('active');\n } else if (index === total - 1) {\n dotLast.classList.add('active');\n } else {\n\n dotCurrent.classList.add('active');\n\n }\n\n});\n","\r\nimport './js/sound-wave-api.js'\r\nimport './js/render-functions.js'\r\nimport './js/menu.js'\r\nimport './js/modal.js'\r\nimport './js/artists.js'\r\nimport './js/feedback.js'\r\n\r\nimport { fetchArtists } from './js/artists.js';\r\nimport { createArtistCard } from './js/artists.js';\r\n\r\n\r\n\r\nconst artistsList = document.querySelector('.list-cards');\r\nconst loadMoreBtn = document.getElementById('load-more');\r\n\r\nlet currentPage = 1;\r\nconst limit = 8;\r\n\r\nasync function loadArtists(page = 1, limit = 8) {\r\n  try {\r\n    const data = await fetchArtists(page, limit);\r\n\r\n    if (!data || !data.artists || !Array.isArray(data.artists)) {\r\n      throw new Error(\r\n        'Невірний формат даних: artists відсутній або не є масивом'\r\n      );\r\n    }\r\n\r\n    console.log(`Отримані артисти для сторінки ${page}:`, data.artists);\r\n    renderArtists(data.artists);\r\n  } catch (error) {\r\n    console.error('Помилка при завантаженні артистів:', error.message);\r\n  }\r\n}\r\n\r\nfunction renderArtists(artists) {\r\n  artistsList.innerHTML = '';\r\n  const markup = artists.map(createArtistCard).join('');\r\n  artistsList.insertAdjacentHTML('beforeend', markup);\r\n}\r\n\r\nloadMoreBtn.addEventListener('click', () => {\r\n  currentPage++;\r\n  console.log(`Завантажуємо сторінку: ${currentPage}`);\r\n  loadArtists(currentPage, limit);\r\n});\r\n\r\ndocument.addEventListener('click', event => {\r\n  if (event.target.classList.contains('learn-more')) {\r\n    const bioElement = event.target.previousElementSibling;\r\n    const fullBio = bioElement.dataset.full;\r\n    if (!fullBio) return;\r\n    if (bioElement.classList.contains('expanded')) {\r\n      bioElement.innerHTML = fullBio.slice(0, 200) + '...';\r\n      event.target.textContent = 'Learn More';\r\n    } else {\r\n      bioElement.innerHTML = fullBio;\r\n      event.target.textContent = 'Show Less';\r\n    }\r\n\r\n    bioElement.classList.toggle('expanded');\r\n  }\r\n});\r\n\r\nloadArtists();\r\n\r\n"],"names":["soundWaveApi","axios","getFeedbacks","error","iconBurger","iconBurgerX","menuList","body","openMenu","evt","fetchArtists","page","limit","url","data","createArtistCard","artist","shortBio","swiperWrapper","renderStarsSimple","rating","roundedRating","starsHtml","i","renderFeedback","markup","item","swiper","Swiper","dotFirst","dotCurrent","dotLast","index","total","artistsList","loadMoreBtn","currentPage","loadArtists","renderArtists","artists","event","bioElement","fullBio"],"mappings":"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"}